<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>FixLab | Reparação de Motherboards, Computadores e Telemóveis em Braga</title>
    <meta name="description" content="A FixLab em Braga oferece serviços profissionais de reparação de motherboards, computadores, smartphones e outros dispositivos eletrónicos. Diagnóstico rápido e manutenção de alta qualidade.">
    <meta name="robots" content="index, follow">
    <meta name="google-site-verification" content="Itul_iZjUtofR45Pz6vslcd0d43NjaESozaUK_gIg">

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome for service and info icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-FVLWqgZ3v8iS/zh0Dv7DCzO5+jjXNMTvEusE5WoQ6wRca1pBFoB7s5kJnA+H6m60kGHEvUVmErGc5Q+BDC+STA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Site stylesheet -->
    <link rel="stylesheet" href="style.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SKXG54PH2E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-SKXG54PH2E');
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ComputerRepairService",
      "name": "FixLab Assistência Técnica",
      "url": "https://fix-lab.pt",
      "logo": "https://fix-lab.pt/logo.png",
      "image": "https://fix-lab.pt/FixLab_logo2.svg",
      "description": "Serviços de reparação de motherboards, computadores, smartphones e outros dispositivos eletrónicos em Braga. Diagnósticos rápidos e reparações profissionais.",
      "telephone": "+351913441041",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Braga",
        "addressCountry": "PT"
      },
      "areaServed": {
        "@type": "City",
        "name": "Braga"
      },
      "openingHours": [
        "Mo-Fr 09:00-19:00",
        "Sa 10:00-17:00"
      ],
      "priceRange": "$$"
    }
    </script>
  </head>

  <body>
    <!-- Sticky header with navigation and logo -->
    <header>
      <div class="container nav">
        <img src="FixLab_logo2.svg" alt="FixLab Logo" class="logo">
        <nav>
          <ul>
            <li><a href="#hero">Início</a></li>
            <li><a href="#services">Serviços</a></li>
            <li><a href="#contact">Contacto</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Hero section with main call-to-action -->
    <section id="hero">
      <div class="container hero-content">
        <h1>Serviços de Reparação e Manutenção de Computadores e Equipamentos Eletrónicos</h1>
        <p>Diagnóstico e reparação rápida com garantia de qualidade.</p>
        <a href="#contact" class="btn-primary">Contacte-nos</a>
      </div>
      <video class="hero-video" autoplay loop muted playsinline>
        <source src="hero-video.webm" type="video/webm">
        <source src="hero-video.mp4" type="video/mp4">
        O seu navegador não suporta vídeo.
      </video>
    </section>

    <!-- About/intro section -->
    <section id="about">
      <div class="container">
        <h2>Sobre Nós</h2>
        <p>
          Na FixLab oferecemos serviços profissionais de reparação e manutenção para computadores, smartphones, tablets e outros equipamentos eletrónicos.
          Com uma equipa certificada e anos de experiência, garantimos um serviço rápido, de alta qualidade e adaptado às necessidades de cada cliente.
        </p>
      </div>
    </section>

    <!-- Services section with grid of cards -->
    <section id="services">
      <div class="container">
        <h2>Nossos Serviços</h2>
        <div class="service-grid">
          <div class="service-card">
            <i class="fas fa-mobile-alt"></i>
            <h3>Reparação de Smartphones</h3>
            <p>Substituição de ecrãs, baterias, botões e diagnósticos especializados.</p>
          </div>
          <div class="service-card">
            <i class="fas fa-tablet-alt"></i>
            <h3>Reparação de Tablets</h3>
            <p>Serviço especializado para tablets de todas as marcas, com peças de alta qualidade.</p>
          </div>
          <div class="service-card">
            <i class="fas fa-laptop"></i>
            <h3>Reparação de Computadores</h3>
            <p>Upgrades de hardware, limpeza interna e recuperação de dados essenciais.</p>
          </div>
          <div class="service-card">
            <i class="fas fa-headphones-alt"></i>
            <h3>Outros Dispositivos</h3>
            <p>Reparação de headphones, consolas de jogos e wearables.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Info cards to highlight strengths -->
    <section id="info-cards">
      <div class="container">
        <div class="info-grid">
          <div class="info-card">
            <i class="fas fa-award"></i>
            <h3>Qualidade Garantida</h3>
            <p>Usamos peças de alta qualidade e oferecemos garantia em todos os serviços.</p>
          </div>
          <div class="info-card">
            <i class="fas fa-clock"></i>
            <h3>Atendimento Rápido</h3>
            <p>Reparações expresso para que volte a usar o seu equipamento quanto antes.</p>
          </div>
          <div class="info-card">
            <i class="fas fa-user-check"></i>
            <h3>Equipa Especializada</h3>
            <p>Técnicos certificados e experientes prontos para ajudar.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact section with form and details -->
    <section id="contact" class="contact-section">
      <div class="container">
        <h2>Contacto</h2>
        <div class="contact-content">
          <form action="https://formsubmit.co/fixlabassistenciatecnica@gmail.com" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="_template" value="table">
            <div class="form-group">
              <label for="name">Nome</label>
              <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
              <label for="phone">Telefone</label>
              <input type="tel" id="phone" name="phone">
            </div>
            <div class="form-group">
              <label for="device">Dispositivo</label>
              <input type="text" id="device" name="device">
            </div>
            <div class="form-group">
              <label for="message">Mensagem</label>
              <textarea id="message" name="message" rows="4" required></textarea>
            </div>
            <div class="form-group">
              <label for="attachment">Anexar Ficheiros (JPG, PNG, PDF, MP4)</label>
              <input type="file" id="attachment" name="attachment" accept="image/jpeg,image/png,application/pdf,video/mp4" multiple>
            </div>
            <button type="submit" class="btn-primary">Enviar Mensagem</button>
          </form>

          <div class="contact-info">
            <p><strong>Telefone:</strong> +351 913&nbsp;441&nbsp;041</p>
            <p><strong>Email:</strong> <a href="mailto:fixlabassistenciatecnica@gmail.com">fixlabassistenciatecnica@gmail.com</a></p>
            <p><strong>WhatsApp:</strong> <a href="https://wa.me/351913441041">Enviar Mensagem</a></p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer with copyright -->
    <footer>
      <div class="container">
        <p>&copy; <span id="year"></span> FixLab Assistência Técnica. Todos os direitos reservados.</p>
      </div>
    </footer>

    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
    </script>

    <!-- Chatbot AI (corrigido, sem mudar o aspeto) -->
    <style>
      /* Mantém o visual "moderno" (o vosso último bloco), e remove duplicações */
      #chatbot-toggle-btn{
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: #f5f5f5;
        color: #1f232a;
        padding: 16px 28px;
        min-width: 150px;
        border: 2px solid #cccccc;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        font-size: 22px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 1000;
      }
      #chatbot-container{
        position: fixed;
        bottom: 100px;
        right: 30px;
        width: 350px;
        max-height: 500px;
        background: var(--primary-dark);
        border: 2px solid var(--primary-color);
        border-radius: 15px;
        display: none;
        flex-direction: column;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        z-index: 1000;
      }
      #chatbot-header{
        background: var(--primary-color);
        color: #fff;
        padding: 12px;
        text-align: center;
        font-weight: bold;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
      }
      #chatbot-messages{
        flex: 1;
        padding: 12px;
        overflow-y: auto;
        background: var(--primary-dark);
        display: flex;
        flex-direction: column;
      }
      .message{
        margin: 6px 0;
        padding: 10px 14px;
        border-radius: 15px;
        max-width: 80%;
        width: fit-content;
        font-size: 14px;
        word-break: break-word;
      }
      .message.user{
        align-self: flex-end;
        background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
        color: #fff;
        margin-left: auto;
      }
      .message.bot{
        align-self: flex-start;
        background: #2a2f3b;
        color: #e4e4e4;
        margin-right: auto;
      }
      .message.bot a{
        color: #fff;
        text-decoration: underline;
      }
      .chatbot-input-area{
        display: flex;
        padding: 10px;
        border-top: 1px solid var(--primary-color);
        background: var(--primary-dark);
        border-bottom-left-radius: 15px;
        border-bottom-right-radius: 15px;
      }
      #chatbot-input{
        flex: 1;
        padding: 10px;
        background: transparent;
        border: none;
        outline: none;
        color: #fff;
      }
      #chatbot-send-btn{
        padding: 10px 12px;
        margin-left: 8px;
        background: var(--primary-color);
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      #chatbot-send-btn:disabled{
        opacity: 0.6;
        cursor: not-allowed;
      }
    </style>

    <div id="chatbot-toggle-btn"><i class="fa-solid fa-comments"></i> Chat</div>
    <div id="chatbot-container" aria-hidden="true">
      <div id="chatbot-header">Assistente FixLab</div>
      <div id="chatbot-messages"></div>
      <div class="chatbot-input-area">
        <input type="text" id="chatbot-input" placeholder="Escreva aqui..." />
        <button id="chatbot-send-btn">Enviar</button>
      </div>
    </div>

    <script>
    (function() {
      const toggleBtn = document.getElementById('chatbot-toggle-btn');
      const container = document.getElementById('chatbot-container');
      const messagesEl = document.getElementById('chatbot-messages');
      const inputEl = document.getElementById('chatbot-input');
      const sendBtn = document.getElementById('chatbot-send-btn');

      // TODO: substituir pelo URL real do Cloudflare Worker (na próxima fase)
      const WORKER_URL = 'https://fix-lab-diagnose.fixlabassistenciatecnica.workers.dev/api/diagnose';

      // (opcional) token simples anti-abuso — colocaremos quando montarmos o Worker
      // const SITE_TOKEN = 'COLOCA_AQUI_O_TOKEN';
      const SITE_TOKEN = 'fixlab_2026_02_14_f1b8c4c8e9d7a6c3d2f1m7y2c3x4z7p5';

      let step = 0;
      const data = { equipamento:'', marca:'', modelo:'', problema:'' };
      let busy = false;

      function addMessage(text, sender) {
        const div = document.createElement('div');
        div.className = 'message ' + sender;
        div.textContent = text;
        messagesEl.appendChild(div);
        messagesEl.scrollTop = messagesEl.scrollHeight;
        return div;
      }

      function addMailtoMessage(mailtoHref) {
        const div = document.createElement('div');
        div.className = 'message bot';

        const t1 = document.createElement('div');
        t1.textContent = 'Para avançar com a reparação, envie o pedido por email:';
        t1.style.marginBottom = '8px';

        const a = document.createElement('a');
        a.href = mailtoHref;
        a.textContent = 'Abrir email pré-preenchido';
        a.rel = 'noopener';

        div.appendChild(t1);
        div.appendChild(a);

        messagesEl.appendChild(div);
        messagesEl.scrollTop = messagesEl.scrollHeight;
      }

      function askNext() {
        if (step === 0) addMessage('Olá! Qual o tipo de equipamento que precisa de reparar?', 'bot');
        else if (step === 1) addMessage('Qual a marca do equipamento?', 'bot');
        else if (step === 2) addMessage('Qual o modelo do equipamento?', 'bot');
        else if (step === 3) addMessage('Por favor, descreva o problema encontrado.', 'bot');
        else generateDiagnosis();
      }

      async function generateDiagnosis() {
        if (busy) return;
        busy = true;
        sendBtn.disabled = true;

        addMessage('A calcular diagnóstico preliminar...', 'bot');

        let diagnosis = '';
        try {
          const controller = new AbortController();
          const timeoutMs = 12000;
          const t = setTimeout(() => controller.abort(), timeoutMs);

          const headers = { 'Content-Type': 'application/json' };
          if (SITE_TOKEN) headers['X-Site-Token'] = SITE_TOKEN;

          const response = await fetch(WORKER_URL, {
            method: 'POST',
            headers,
            body: JSON.stringify(data),
            signal: controller.signal
          });

          clearTimeout(t);

          if (!response.ok) throw new Error('HTTP ' + response.status);

          const result = await response.json();
          diagnosis = (result && result.diagnosis) ? String(result.diagnosis).trim() : '';
          if (!diagnosis) throw new Error('Empty diagnosis');
        } catch (err) {
          diagnosis = 'Não foi possível obter um diagnóstico automático. Um técnico irá analisar o seu caso.';
        }

        addMessage('Diagnóstico preliminar: ' + diagnosis, 'bot');

        const subject = encodeURIComponent('Pedido de Reparação - ' + data.equipamento + ' ' + data.marca + ' ' + data.modelo);
        const body = encodeURIComponent(
          'Equipamento: ' + data.equipamento + '\n' +
          'Marca: ' + data.marca + '\n' +
          'Modelo: ' + data.modelo + '\n' +
          'Problema: ' + data.problema + '\n\n' +
          'Diagnóstico preliminar:\n' + diagnosis
        );

        const mailtoLink = 'mailto:fixlabassistenciatecnica@gmail.com?subject=' + subject + '&body=' + body;
        addMailtoMessage(mailtoLink);

        busy = false;
        sendBtn.disabled = false;
      }

      function handleUserInput() {
        const text = inputEl.value.trim();
        if (!text || busy) return;

        addMessage(text, 'user');

        if (step === 0) data.equipamento = text;
        else if (step === 1) data.marca = text;
        else if (step === 2) data.modelo = text;
        else if (step === 3) data.problema = text;

        step++;
        inputEl.value = '';
        askNext();
      }

      toggleBtn.addEventListener('click', () => {
        const isOpen = container.style.display === 'flex';
        container.style.display = isOpen ? 'none' : 'flex';
        container.setAttribute('aria-hidden', isOpen ? 'true' : 'false');

        if (!isOpen && step === 0 && messagesEl.children.length === 0) {
          askNext();
        }
      });

      sendBtn.addEventListener('click', handleUserInput);

      inputEl.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          handleUserInput();
        }
      });
    })();
    </script>
    <!-- Fi do Chatbot AI -->
  </body>
</html>
